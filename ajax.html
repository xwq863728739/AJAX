<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="button" value='提交' id="btn1" />
</body>
<script>
//使用ajax的四个步骤
//1.创建ajax对象
//2.连接服务器
//3.发送请求
//4.接受返回值
	var btn=document.getElementById('btn1');
	btn1.onclick=function(){
		//1.创建ajax对象
		if(window.XMLHttpRequest){
		//这里用window的原因是不用window IE6报错，视为js中未定义的变量，加了window则视为未定义的属性，返回undefined，这正是我们想要的，if判断为假
			var oajax=new XMLHttpRequest();//除IE6的所有浏览器
			//XMLHttpRequest为真正的ajax对象
		}
		else{
			var oajax=new ActiveXObject('microsoft.XMLHTTP');//兼容IE6
		}
		//2.连接服务器
		//open(方法，url,异步传输：默认为true)
		oajax.open("GET",'test.txt?t='+new Date().getTime(),true);

		//3.发送请求
		oajax.send();

		//4.接受返回值
		oajax.onreadystatechange=function(){
		//onreadyStateChange事件是在readyState属性发生改变时触发
			if(oajax.readyState==4){
		// readyState有五种可取值0：尚未初始化，1：正在加载，2：加载完毕，3：正在处理；4：处理完毕
				if(oajax.status==200){
					alert(oajax.responseText)
				}
				else{
					alert('fail')
				}
			}
		}
	}
</script>
</html>